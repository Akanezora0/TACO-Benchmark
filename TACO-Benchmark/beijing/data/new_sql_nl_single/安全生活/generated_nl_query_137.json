{
  "sql": "SELECT column1, column2 FROM table1 - table2 WHERE condition;",
  "problem_description": "# SQL 语句分析\n\n## 查询意图\n这个 SQL 语句的目的是从 `table1` 和 `table2` 的差集（即存在于 `table1` 但不存在于 `table2` 的记录）中选择满足特定条件的记录，并返回这些记录的 `column1` 和 `column2` 列。\n\n## 详细描述\n- **涉及的表**：\n  - `table1`：主表，从中获取初始数据集\n  - `table2`：用于与 `table1` 进行比较的表\n\n- **操作**：\n  - `table1 - table2`：这是一个集合差操作，返回所有在 `table1` 中但不在 `table2` 中的记录\n  - `WHERE condition`：对差集结果进一步筛选，只返回满足特定条件的记录\n\n- **选择的列**：\n  - `column1` 和 `column2`：从最终结果集中选择这两列作为输出\n\n## 业务场景\n这种查询在以下业务场景中非常有用：\n\n1. **数据对比与差异分析**：找出在一个表中存在但在另一个表中不存在的记录\n   - 例如：找出已注册但从未下单的用户\n   - 找出库存系统中存在但销售系统中不存在的产品\n\n2. **数据清理**：识别需要清理或归档的数据\n   - 例如：找出已过期的优惠券但仍在活动表中的记录\n\n3. **数据同步验证**：验证两个系统间的数据同步是否完整\n   - 例如：检查主数据库中的记录是否已全部同步到备份数据库\n\n## 用户描述\n在上述业务场景中，用户可能遇到的实际问题或需求包括：\n\n1. **营销效率分析**：\n   - \"我想知道有多少用户注册了我们的平台但从未进行过购买，这样我们可以针对这些用户设计专门的营销活动。\"\n\n2. **库存管理问题**：\n   - \"为什么我们的仓库显示有某些产品的库存，但在网店上却找不到这些产品？我需要找出这些差异。\"\n\n3. **数据同步问题**：\n   - \"我们最近进行了数据库迁移，如何确认所有客户记录都已正确迁移到新系统？\"\n\n4. **会员服务优化**：\n   - \"我们想找出那些拥有会员卡但过去一年从未使用过的客户，以便决定是否要联系他们或取消不活跃的会员资格。\"\n\n注意：这个SQL语法`table1 - table2`在某些数据库系统中可能不被直接支持（这是标准SQL中的EXCEPT操作）。在实际应用中，可能需要使用`NOT EXISTS`或`LEFT JOIN ... WHERE ... IS NULL`等替代语法来实现相同的功能。",
  "natural_language_query": "我来试着模拟几个真实用户的自然语言查询：\n\n1. 关于营销效率的困惑：\n\"你好，我是某电商平台的运营人员。最近老板让我分析一下用户转化情况，我发现有很多人注册了我们APP但是从来不下单买东西。这种情况特别多，我想知道具体是哪些用户这样，好给他们发些优惠券刺激消费。但是我不知道怎么查这些'僵尸用户'，能帮帮我吗？\"\n\n2. 库存差异的投诉：\n\"气死我了！我们仓库明明显示还有50件冬季外套的库存，但是网店后台就是找不到这些商品。顾客下单的时候总是提示缺货，已经收到好多投诉了。我想知道到底是哪些商品出现了这种库存和销售系统对不上的情况，这个问题已经持续两周了！\"\n\n3. 数据迁移的担忧：\n\"我们公司上周刚换了新的CRM系统，领导让我确认下所有客户资料都迁移过去了。但是我手头有旧系统的客户名单，新系统里看着好像差不多，又不敢确定是不是真的都转过去了。有没有办法帮我核对一下，看有没有漏掉的客户信息啊？\"\n\n4. 会员管理的疑问：\n\"我是某连锁健身房的店长。最近在清理长期不来的会员卡，系统显示有200多个会员，但实际每天来锻炼的就那么几十个人。我想找出那些办了卡却一整年都没来过的会员，这样既能腾出名额，又能主动联系他们问问情况。但是系统里好像没法直接筛选这类会员...\"",
  "results": 0,
  "sql skeleton": "SELECT _ , _ FROM _ -_ ;",
  "database": "安全生活",
  "tables": {}
}