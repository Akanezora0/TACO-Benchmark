{
  "sql": "select T1.col1, T1.col2 from Table1 as T1 left join Table2 as T2 on T1.id = T2.id where T1.col1 in (select T3.col1 from Table3 as T3 where T3.col2 > 10)",
  "problem_description": "### **查询意图**  \n该 SQL 语句的目的是从 `Table1` 中查询符合条件的记录，并与 `Table2` 进行左连接，同时筛选出 `Table1.col1` 的值在 `Table3` 中满足特定条件的记录。  \n\n### **详细描述**  \n1. **涉及的表**：  \n   - `Table1`（别名 `T1`）：主表，包含 `col1`、`col2` 和 `id` 列。  \n   - `Table2`（别名 `T2`）：与 `Table1` 进行左连接的表，包含 `id` 列（与 `T1.id` 关联）。  \n   - `Table3`（别名 `T3`）：用于子查询的表，包含 `col1` 和 `col2` 列。  \n\n2. **查询逻辑**：  \n   - **左连接**：`Table1` 左连接 `Table2`，关联条件是 `T1.id = T2.id`，即保留 `Table1` 的所有记录，即使 `Table2` 中没有匹配的记录。  \n   - **子查询条件**：`T1.col1` 必须在子查询 `(select T3.col1 from Table3 as T3 where T3.col2 > 10)` 的结果集中，即 `Table3.col2 > 10` 的记录对应的 `col1` 值。  \n   - **最终输出**：返回 `Table1` 中符合条件的 `col1` 和 `col2` 列。  \n\n3. **关键条件**：  \n   - `T3.col2 > 10`：子查询筛选 `Table3` 中 `col2` 值大于 10 的记录。  \n   - `T1.col1 IN (...)`：主查询筛选 `Table1` 中 `col1` 值在子查询结果中的记录。  \n\n### **业务场景**  \n该查询可能用于以下业务场景：  \n1. **数据关联分析**：例如，`Table1` 是订单表，`Table2` 是客户表，`Table3` 是商品表。查询的目的是找出购买了某些高价值商品（`Table3.col2 > 10`，如价格 > 10 的商品）的订单信息（`Table1.col1, Table1.col2`），同时关联客户信息（`Table2`）。  \n2. **条件筛选**：例如，`Table1` 是员工表，`Table3` 是绩效表，查询绩效分数（`col2`）超过 10 的员工（`col1`）的基本信息（`col1, col2`）。  \n\n### **用户描述**  \n1. **用户需求**：  \n   - 用户可能需要找出购买了特定高价值商品的订单，以便进行促销或客户分析。  \n   - 或者，用户希望筛选出绩效优秀的员工，以便进行奖励或晋升评估。  \n2. **实际问题**：  \n   - 如果直接查询 `Table1`，无法知道哪些记录符合业务上的附加条件（如高价值商品或高绩效）。  \n   - 通过子查询和连接，可以精确筛选出符合业务逻辑的数据，避免手动筛选或多次查询。  \n\n### **总结**  \n该 SQL 语句通过左连接和子查询，从 `Table1` 中筛选出符合 `Table3` 条件的数据，并结合 `Table2` 的信息，适用于需要多表关联并按特定业务规则筛选数据的场景。",
  "natural_language_query": "市民反映，我在系统里查一些数据的时候遇到问题了。是这样的，我们公司有一些订单记录（可能是Table1），需要找出购买了高价值商品的客户订单，但是我不知道怎么筛选。听说商品表（可能是Table3）里有个指标大于10的才算高价值商品，我想找这些高价值商品对应的订单信息，同时还要看到客户的基本信息（可能是Table2）。但是我试了好几次都查不全，有些订单明明买了高价值商品却显示不出来，有些客户信息也对不上。能不能帮忙看看怎么查才能准确找到这些数据？主要是要确保查出来的订单确实对应那些高价值的商品，而且要把客户信息一起带出来。",
  "results": 0,
  "sql skeleton": "select _ ._ ,_ ._ from _ left join _ on _ ._ = _ ._ where _ in (select _ from _ where _ )",
  "database": "安全生活",
  "tables": {}
}